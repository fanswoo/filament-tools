function l(){return{init(){this.$wire.el.querySelector("label").addEventListener("click",s=>{s.preventDefault(),this.$wire.el.querySelector('input[type="file"]').click()})},uploadedMessage:"",onFileUpload(s){let i=this.$wire.el.querySelector('input[type="file"]').files;this.$wire.uploadMultiple("files",i,async()=>{let e=await this.$wire.saveFiles();e.status?(this.uploadedMessage="\u4E0A\u50B3\u6210\u529F",this.$wire.$dispatch("on-files-uploaded",{files:e.files})):(this.uploadedMessage=e.message,this.$wire.$dispatch("on-files-uploaded",{uploadedMessage:this.uploadedMessage})),this.$wire.el.querySelector('input[type="file"]').value=""},e=>{console.error(e),this.uploadedMessage="\u4E0A\u50B3\u5931\u6557",this.$wire.$dispatch("on-files-uploaded",{message:this.uploadedMessage})},e=>{},()=>{this.uploadedMessage="\u4E0A\u50B3\u5931\u6557",this.$wire.$dispatch("on-files-uploaded",{message:this.uploadedMessage}),console.warn("upload cancelled")})}}}export{l as default};
